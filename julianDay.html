<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <title>Julian Day</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>

<body>
    <p id="julianDay"></p>

    <script>
    var leapYears = [2012, 2016, 2020];
    var todaysDate = new Date();
    // var todaysDate = new Date("September 2, 2012");
    // alert(todaysDate);
    var year = todaysDate.getFullYear();
    var dayDiffMsec = Date.parse(todaysDate) - Date.parse("January 1, $" + year);
    var yearDayNumber = Number(dayDiffMsec) / 86400000;
    //var yearDayNumber = Number(dayDiffMsec) / 86400000;

    if (leapYears.indexOf(year) == -1) {
        var displayDay = 'Today is Julian calendar day number: ' + Math.round(yearDayNumber + 0.5);
        document.getElementById("julianDay").innerHTML = displayDay;
    }
    
    else {
        var displayDay = 'Today is Julian calendar day number: ' + Math.round(yearDayNumber + 1.5);
        document.getElementById("julianDay").innerHTML = displayDay;
    }
    </script>
</body>
</html>
